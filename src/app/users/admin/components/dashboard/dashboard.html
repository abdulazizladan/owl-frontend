<div class="dashboard-container" fxLayout="column" fxLayoutGap="24px">
  
  <!-- Dashboard Header -->
  <div class="dashboard-header" fxLayout="row" fxLayoutAlign="space-between center">
    <div>
      <h1 class="dashboard-title">Administrative Dashboard</h1>
      <p class="dashboard-subtitle">Welcome back! Here's what's happening today.</p>
    </div>
    <div fxLayout="row" fxLayoutGap="16px">
      <button mat-raised-button color="primary">
        <mat-icon>refresh</mat-icon>
        Refresh Data
      </button>
      <button mat-icon-button>
        <mat-icon>notifications</mat-icon>
      </button>
    </div>
  </div>

  @if(store){
  <div fxLayout.lt-sm="column" fxLayout.gt-sm="row" fxLayoutGap.lt-sm="25px" fxLayoutGap.gt-sm="25px" fxLayoutAlign.gt-sm="center space-between">

    <!-- Total Users Card -->
    <mat-card class="stat-card total-users" fxFlex.gt-md="25%">
      <mat-card-content fxLayout="row" fxLayoutAlign="space-between center">
        <div>
          <div class="stat-number">
            {{store.usersSummary()?.admin}}
          </div>
          <div class="stat-label">Admin Users</div>
        </div>
        <mat-icon class="stat-icon">person</mat-icon>
      </mat-card-content>
    </mat-card>

    <!-- Students Card -->
    <mat-card class="stat-card students" fxFlex.gt-md="25%">
      <mat-card-content fxLayout="row" fxLayoutAlign="space-between center">
        <div>
          <div class="stat-number">
            {{store.usersSummary()?.students}}
          </div>
          <div class="stat-label">Students</div>
        </div>
        <mat-icon class="stat-icon">school</mat-icon>
      </mat-card-content>
    </mat-card>

    <!-- Staff Card -->
    <mat-card class="stat-card staff" fxFlex.gt-md="25%">
      <mat-card-content fxLayout="row" fxLayoutAlign="space-between center">
        <div>
          <div class="stat-number">
            {{store.usersSummary()?.staff}}
          </div>
          <div class="stat-label">Staff</div>
        </div>
        <mat-icon class="stat-icon">work</mat-icon>
      </mat-card-content>
    </mat-card>

    <!-- Guardians Card -->
    <mat-card class="stat-card guardians" fxFlex.gt-md="25%">
      <mat-card-content fxLayout="row" fxLayoutAlign="space-between center">
        <div>
          <div class="stat-number">
            {{store.usersSummary()?.guardians}}
          </div>
          <div class="stat-label">Guardians</div>
        </div>
        <mat-icon class="stat-icon">family_restroom</mat-icon>
      </mat-card-content>
    </mat-card>

  </div>
  }

  
  <!-- Main Content Section -->
  <div class="main-content" fxLayout.lt-sm="column" fxLayout.gt-sm="row" fxLayoutGap="24px" fxLayout.lt-lg="column">
    
    <div class="trends-section" fxFlex.gt-sm="60%" fxLayout="column" fxLayoutGap="16px">
      <mat-card class="section-header-card">
        
        <mat-card-header>
          <mat-card-title>
            <mat-icon>trending_up</mat-icon>
            Enrolment Trends by Term
          </mat-card-title>
          <mat-card-subtitle>Student enrolment growth over the last 4 terms</mat-card-subtitle>
        </mat-card-header>
      </mat-card>
      
      <mat-card class="chart-card" style="margin-bottom: 24px;">
        <mat-card-header>
          <mat-card-title>Student enrolment trends</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div style="display: block;">
            <canvas
              baseChart
              [data]="barChartData"
              [labels]="barChartLabels"
              [options]="barChartOptions"
              [type]="barChartType"
              >
            </canvas>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Recent Activities -->
    <div class="activities-section" fxFlex.gt-sm="40%" fxLayout="column" fxLayoutGap="16px">
      <mat-card class="section-header-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>notifications</mat-icon>
            Recent Activities
          </mat-card-title>
          <mat-card-subtitle>Latest updates and notifications</mat-card-subtitle>
        </mat-card-header>
      </mat-card>
      
      <div class="activities-grid" fxLayout="column" fxLayoutGap="12px">
        @for (activity of [1, 2, 4]; track []) {
          <mat-card class="activity-card">
            <mat-card-content fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
              <div class="activity-icon-container" fxLayout="row" fxLayoutAlign="center center">
                <mat-icon  class="activity-icon">person
                </mat-icon>
              </div>
              <div fxFlex="1 1 auto" fxLayout="column" fxLayoutGap="4px">
                <div class="activity-message">Emrolled new student</div>
                <div class="activity-time">04:00pm, Jan 24th, 2025</div>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </div>
  </div>

  <!-- Quick Actions Section
  <div class="quick-actions" fxLayout="row" fxLayoutGap="25px" fxLAyoutAlign.gt-sm="center space-between" fxLayout.lt-md="column">
    <mat-card class="action-card" fxFlex="25%">
      <mat-card-content fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="16px">
        <mat-icon class="action-icon">person_add</mat-icon>
        <div class="action-title">Add New Staff</div>
        <button mat-raised-button color="primary">Add staff</button>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" fxFlex="25%">
      <mat-card-content fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="16px">
        <mat-icon class="action-icon">assignment</mat-icon>
        <div class="action-title">Manage Classes</div>
        <button mat-raised-button color="accent">View Classes</button>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" fxFlex="25%">
      <mat-card-content fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="16px">
        <mat-icon class="action-icon">payment</mat-icon>
        <div class="action-title">Fee Management</div>
        <button mat-raised-button color="warn">Manage Fees</button>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" fxFlex="25%">
      <mat-card-content fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="16px">
        <mat-icon class="action-icon">analytics</mat-icon>
        <div class="action-title">Reports</div>
        <button mat-raised-button color="primary">Generate Report</button>
      </mat-card-content>
    </mat-card>
  </div>-->
</div>